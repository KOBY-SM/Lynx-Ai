let handler = m => m;

handler.before = async function (m, { conn, isAdmin, isBotAdmin, isOwner }) {
  if (m.isGroup && !isBotAdmin) return;

  const allEmojis = [
    '😀', '😃', '😄', '😁', '😆', '😅', '😂', '🤣', '😊', '😇', '🙂', '🙃', '😉', '😌',
    '😍', '🥰', '😘', '😗', '😙', '😚', '😋', '😛', '😜', '🤪', '😝', '🤑', '🤗', '🤭',
    '🤫', '🤔', '🤐', '🤨', '😐', '😑', '😶', '😏', '😒', '🙄', '😬', '🤥', '😌', '😔',
    '😪', '🤤', '😴', '😷', '🤒', '🤕', '🤢', '🤮', '🤧', '😵', '🤯', '🤠', '🥳', '😎',
    '🤓', '🧐', '😕', '😟', '🙁', '☹️', '😮', '😯', '😲', '😳', '🥺', '😦', '😧', '😨',
    '😰', '😥', '😢', '😭', '😱', '😖', '😣', '😞', '😓', '😩', '😫', '🥱', '😤', '😡',
    '😠', '🤬', '😈', '👿', '💀', '☠️', '💩', '🤡', '👹', '👺', '👻', '👽', '👾', '🤖',
    '😺', '😸', '😹', '😻', '😼', '😽', '🙀', '😿', '😾', '🙌', '👏', '👋', '🤚', '🖐️',
    '✋', '👌', '✌️', '🤞', '🤟', '🤘', '🤙', '👈', '👉', '👆', '👇', '👍', '👎', '✊',
    '👊', '🤛', '🤜', '👏', '🙇‍♂️', '🙇‍♀️', '🙏', '💪', '🦾', '👀', '👁️', '👄', '💋',
    '🧠', '🫀', '🫁', '🗣️', '👤', '👥', '🫂', '👣', '🐵', '🙈', '🙉', '🙊', '🐶', '🐱',
    '🐭', '🐹', '🐰', '🦊', '🐻', '🐼', '🦄', '🐴', '🐗', '🐷', '🐽', '🐖', '🐄', '🐕',
    '🐓', '🐥', '🦜', '🦢', '🐢', '🐍', '🐲', '🐉', '🦕', '🦖', '🐙', '🦀', '🦞', '🦐',
    '🦑', '🐡', '🐠', '🐟', '🐬', '🐳', '🦈', '🐋', '🦭', '🐊', '🐅', '🐆', '🦓', '🦍',
    '🦧', '🐘', '🦛', '🦏', '🦣', '🐪', '🐫', '🦒', '🦘', '🦬', '🐃', '🐂', '🐄', '🐎',
    '🐖', '🐐', '🦙', '🐏', '🐑', '🦌', '🦫', '🐀', '🐁', '🐭', '🐹', '🐇', '🦡', '🦦',
    '🦨', '🦘', '🦥', '🦅', '🦆', '🦢', '🦉', '🦇', '🐍', '🐢', '🦎', '🦕', '🦖', '🐙'
  ];

  const randomEmoji = allEmojis[Math.floor(Math.random() * allEmojis.length)];

  try {
    await m.react(randomEmoji);
  } catch (err) {
    console.error('Error al reaccionar:', err);
  }

  return true;
};

export default handler;
